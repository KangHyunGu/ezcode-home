(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-557c22d5"],{7376:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("tooltip-btn",{attrs:{label:t.searchLabel,icon:"",small:""},on:{click:t.open}},[a("v-icon",[t._v("mdi-magnify")])],1),t.options.stf[0]?a("tooltip-btn",{attrs:{type:"button",label:"검색 초기화",icon:"",color:"error",small:""},on:{click:t.reset}},[a("v-icon",[t._v("mdi-magnify-close")])],1):t._e(),a("ez-dialog",{ref:"dialog",attrs:{label:t.label,width:"300"}},[a("v-form",{ref:"form",staticClass:"mt-4",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.searchGo.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-select",{attrs:{label:"검색 필드",items:t.items,rules:[t.rules.require({label:"검색 필드"})]},model:{value:t.form.stf,callback:function(e){t.$set(t.form,"stf",e)},expression:"form.stf"}}),a("v-select",{attrs:{label:"비교방식",items:t.compItems},model:{value:t.form.stc,callback:function(e){t.$set(t.form,"stc",e)},expression:"form.stc"}}),a("v-text-field",{attrs:{label:"검색어",rules:[t.rules.require({label:"검색어"})],disabled:t.isNullComp},model:{value:t.form.stx,callback:function(e){t.$set(t.form,"stx",e)},expression:"form.stx"}}),a("div",{staticClass:"d-flex"},[a("tooltip-btn",{attrs:{type:"button",label:"검색 초기화",icon:"",color:"error"},on:{click:t.reset}},[a("v-icon",[t._v("mdi-magnify-close")])],1),a("v-spacer"),a("tooltip-btn",{attrs:{type:"submit",label:"검색",icon:"",color:"primary"}},[a("v-icon",[t._v("mdi-magnify")])],1)],1)],1)],1)],1)},i=[],s=a("c7eb"),n=a("5530"),r=a("1da1"),c=(a("7db0"),a("d3b7"),a("99af"),a("a434"),a("a2e4")),l=a("414b"),u=a("248f"),p=a.n(u),d={components:{TooltipBtn:l["a"],EzDialog:c["a"]},name:"SearchField",props:{label:{type:String,default:"검색"},items:{type:Array,required:!0},options:{type:Object,required:!0}},data:function(){return{valid:!0,form:{stf:"",stx:"",stc:""},compItems:[{text:"포함",value:"like"},{text:"작은",value:"lt"},{text:"작거나 같은",value:"lte"},{text:"같은",value:"eq"},{text:"크거나 같은",value:"gte"},{text:"큰",value:"gt"},{text:"같지 않은",value:"ne"},{text:"NULL",value:"null"},{text:"NOT NULL",value:"not"}],tempText:""}},computed:{rules:function(){return p.a},searchLabel:function(){var t=this,e=this.items.find((function(e){return e.value==t.options.stf[0]}));return e?"".concat(e.text," : ").concat(this.options.stx[0]):this.label},isNullComp:function(){return"null"==this.form.stc||"not"==this.form.stc?(this.tempText||(this.tempText=this.form.stx,this.form.stx="Null"),!0):(this.tempText&&(this.form.stx=this.tempText,this.tempText=""),!1)}},methods:{open:function(){this.form.stf=this.options.stf[0]||this.items[0].value,this.form.stc=this.options.stc[0]||"like",this.form.stx=this.options.stx[0],this.$refs.form&&this.$refs.form.resetValidation(),this.$refs.dialog.open()},searchGo:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:a=Object(n["a"])(Object(n["a"])({},t.options),{},{page:1}),a.stf.splice(0,1,t.form.stf),a.stc.splice(0,1,t.form.stc),a.stx.splice(0,1,t.form.stx),t.$emit("update:options",a),t.$refs.dialog.close();case 11:case"end":return e.stop()}}),e)})))()},reset:function(){var t=Object(n["a"])(Object(n["a"])({},this.options),{},{page:1});t.stf.splice(0,1,""),t.stc.splice(0,1,""),t.stx.splice(0,1,""),this.$emit("update:options",t),this.$refs.dialog.close()}}},f=d,m=a("2877"),h=Object(m["a"])(f,o,i,!1,null,null,null);e["a"]=h.exports},a2e4:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",t._b({model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},"v-dialog",t.$attrs,!1),[a("v-card",[a("v-toolbar",t._b({},"v-toolbar",t.$attrs,!1),[a("v-toolbar-title",[t._v(t._s(t.label))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",[t._t("default")],2)],1)],1)},i=[],s={name:"ezDialog",props:{label:{type:String,required:!0}},data:function(){return{dialog:!1}},methods:{open:function(){this.$emit("onOpen"),this.dialog=!0},close:function(){this.dialog=!1,this.$emit("onClose")}}},n=s,r=a("2877"),c=Object(r["a"])(n,o,i,!1,null,null,null);e["a"]=c.exports},c117:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._b({},"div",t.$attrs,!1),[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:t.goodColor},on:{click:function(e){return e.stopPropagation(),t.goodUpdate(1)}}},"v-btn",Object.assign({},i,t.btnProps),!1),o),[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.good))]),t._v(" "+t._s(t.good)+" ")],1)]}}])},[a("span",[t._v("좋아요")])]),t.goodOnly?t._e():a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:t.badColor},on:{click:function(e){return e.stopPropagation(),t.goodUpdate(2)}}},"v-btn",Object.assign({},i,t.btnProps),!1),o),[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.bad))]),t._v(" "+t._s(t.bad)+" ")],1)]}}],null,!1,189465039)},[a("span",[t._v("싫어요")])])],1)},i=[],s=a("c7eb"),n=a("1da1"),r=a("5530"),c=(a("99af"),a("2f62")),l={name:"DisplayGood",props:{item:{type:Object,required:!0},table:{type:String,required:!0},btnProps:{type:Object,default:null},icon:{type:Object,default:function(){return{good:"mdi-heart-outline",bad:"mdi-heart-broken-outline"}}},goodOnly:{type:Boolean,default:!1}},data:function(){return{goodFlag:this.item.goodFlag,good:this.item.good,bad:this.item.bad}},computed:Object(r["a"])(Object(r["a"])({},Object(c["e"])("user",["member"])),{},{goodColor:function(){return 1==this.goodFlag?"primary":""},badColor:function(){return 2==this.goodFlag?"error":""}}),methods:{goodUpdate:function(t){var e=this;return Object(n["a"])(Object(s["a"])().mark((function a(){var o;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.member){a.next=3;break}return e.$toast.error("회원만 사용할 수 있습니다."),a.abrupt("return");case 3:if(t!=e.goodFlag){a.next=9;break}return a.next=6,e.$axios.delete("/api/good/".concat(e.table,"/").concat(e.item.wr_id));case 6:o=a.sent,a.next=12;break;case 9:return a.next=11,e.$axios.post("/api/good/".concat(e.table,"/").concat(e.item.wr_id),{bg_flag:t});case 11:o=a.sent;case 12:o&&(e.goodFlag=o.goodFlag,e.good=o.good,e.bad=o.bad);case 13:case"end":return a.stop()}}),a)})))()}}},u=l,p=a("2877"),d=Object(p["a"])(u,o,i,!1,null,null,null);e["a"]=d.exports},ca4c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-toolbar",[a("v-toolbar-title",[t._v(t._s(t.pageTitle))]),1==t.config.bo_use_category?a("v-sheet",{staticClass:"ml-4",attrs:{width:"150"}},[a("cate-select",{attrs:{options:t.options},on:{"update:options":function(e){t.options=e}}})],1):t._e(),a("search-field",{staticClass:"ml-4",attrs:{items:t.searchItems,options:t.options},on:{"update:options":function(e){t.options=e}}}),a("v-spacer"),a("v-btn",{attrs:{to:"/board/"+t.table+"?act=write",color:"primary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v(" 새글 작성 ")],1)],1),a("v-row",t._l(t.items,(function(e,o){return a("v-col",{key:e.wr_id,staticClass:"mt-4 gal-item",attrs:{cols:"6",sm:"4",md:"3",lg:"2"}},[a("v-card",{staticStyle:{color:"white","background-color":"#444"}},[a("v-card-title",{staticClass:"px-0 mx-4 text-body-1"},[a("span",{staticStyle:{width:"100%","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v(" "+t._s(e.wr_title)+" ")])]),a("v-card-subtitle",{staticClass:"d-flex",staticStyle:{color:"white"}},[t._v(" "+t._s(e.wr_name)+" "),a("v-spacer"),a("display-time",{attrs:{time:e.wr_createat}})],1),a("a",{staticClass:"text-decoration-none",on:{click:function(a){return t.$router.push("/board/"+t.table+"/"+e.wr_id)}}},[a("v-img",{attrs:{src:t.getImage(e),"aspect-ratio":1}})],1),a("div",{staticClass:"d-flex justify-space-between align-center ml-4"},[a("div",{staticStyle:{color:"white"}},[a("v-icon",{attrs:{color:"white",small:""}},[t._v("mdi-eye")]),t._v(t._s(e.wr_view)+" "),a("v-icon",{staticClass:"ml-2",attrs:{color:"white",small:""}},[t._v("mdi-comment-outline")]),t._v(t._s(e.wr_reply)+" ")],1),a("v-spacer"),a("display-good",{attrs:{item:e,table:t.table,btnProps:{tile:!0,small:!0,elevation:0},"good-only":""}})],1)],1)],1)})),1),a("v-col",[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.options.page,callback:function(e){t.$set(t.options,"page",e)},expression:"options.page"}})],1)],1)},i=[],s=a("b85c"),n=a("c7eb"),r=a("1da1"),c=a("5530"),l=(a("a434"),a("4de4"),a("d3b7"),a("a9e3"),a("99af"),a("2ca0"),a("ac1f"),a("466d"),a("4328")),u=a.n(l),p=a("64f2"),d=a("2f62"),f=a("7376"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{label:"카데고리",items:t.items,"hide-details":"",dense:""},on:{change:t.cateChange},model:{value:t.cateItem,callback:function(e){t.cateItem=e},expression:"cateItem"}})},h=[],b=a("2909"),v={name:"CateSelect",props:{options:{type:Object,required:!0}},data:function(){return{cateItem:"전체"}},computed:Object(c["a"])(Object(c["a"])({},Object(d["e"])({config:function(t){return t.board.config}})),{},{items:function(){return this.config.bo_use_category?["전체"].concat(Object(b["a"])(this.config.bo_category)):[]}}),methods:{cateChange:function(){var t="전체"==this.cateItem?"":this.cateItem,e=Object(c["a"])(Object(c["a"])({},this.options),{},{page:1});e.stx.splice(1,1,t),this.$emit("update:options",e)}}},g=v,_=a("2877"),x=Object(_["a"])(g,m,h,!1,null,null,null),w=x.exports,y=a("d3f8"),O=a("c117"),j={components:{SearchField:f["a"],CateSelect:w,DisplayTime:y["a"],DisplayGood:O["a"]},name:"BasicList",props:{config:Object,access:Object},title:function(){return this.pageTitle},data:function(){return{loading:!1,options:{},pageRouting:!1,pageReady:!1,imgSize:{w:300,h:300}}},computed:Object(c["a"])(Object(c["a"])({},Object(d["e"])({items:function(t){return t.board.list},totalItems:function(t){return t.board.totalItems}})),{},{table:function(){return this.config.bo_table},pageTitle:function(){return this.config.bo_subject+" 게시판"},headers:function(){var t=[{text:"No",value:"no",align:"right",sortable:!1,searchable:!1,width:"80"},{text:"제목",value:"wr_title",align:"start",sortable:!1,searchable:!0,cellClass:"text-truncate"},{text:"작성자",value:"wr_name",align:"center",sortable:!1,searchable:!0,width:"100"},{text:"작성일",value:"wr_createat",align:"center",sortable:!1,searchable:!1,width:"123"},{text:"조회수",value:"wr_view",align:"center",sortable:!1,searchable:!1,width:"80"}];return this.config.bo_use_category&&t.splice(1,0,{text:"Cate",value:"wr_category",align:"center",sortable:!1,searchable:!1,width:"80"}),t},searchItems:function(){var t=this.headers.filter((function(t){return t.searchable}));return t.push({text:"내용",value:"wr_content"}),t},pageCount:function(){return Math.ceil(this.totalItems/this.options.itemsPerPage)}}),watch:{options:{handler:function(){this.fetchData()},deep:!0},table:function(){this.fetchData()}},serverPrefetch:function(){return this.fetchData()},created:function(){this.options=this.initOptions()},mounted:function(){window.addEventListener("popstate",this.routeChange)},destroyed:function(){window.removeEventListener("popstate",this.routeChange),this.SET_LIST({items:[],totalItems:0})},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(d["b"])("board",["getBoardList"])),Object(d["d"])("board",["SET_LIST"])),{},{initOptions:function(){var t=this.$route.query,e={page:Number(t.page)||1,itemsPerPage:Number(t.itemsPerPage)||12,stf:[t.stf||"","wr_category"],stx:[t.stx||"",""],stc:[t.stc||"","eq"]};return e},pushState:function(){if(!this.pageRouting){var t={page:this.options.page,itemsPerPage:this.options.itemsPerPage,stf:this.options.stf[0]||void 0,stx:this.options.stx[0]||void 0,stc:this.options.stc[0]||void 0,ca:this.options.stx[1]||void 0},e=u.a.stringify(t);this.pageReady?history.pushState(null,null,"".concat(this.$route.path,"?").concat(e)):history.replaceState(null,null,"".concat(this.$route.path,"?").concat(e))}},routeChange:function(){this.pageRouting=!0,this.options=this.initOptions()},getPayload:function(){var t=Object(p["deepCopy"])(this.options);return t.stf.push("wr_reply"),t.stc.push("eq"),t.stx.push("0"),t},fetchData:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,o,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.getPayload(),o=u.a.stringify(a),i={},t.$ssrContext&&(i.token=t.$ssrContext.token),e.next=6,t.getBoardList({vm:t,query:o,headers:i});case 6:case"end":return e.stop()}}),e)})))()},getNo:function(t){var e=this.options,a=e.page,o=e.itemsPerPage,i=this.totalItems;return i-(a-1)*o-t},getImage:function(t){if(t.wrImgs.length)return"/upload/".concat(this.table,"/").concat(t.wrImgs[0].bf_src,"?w=").concat(this.imgSize.w,"&h=").concat(this.imgSize.h);if(t.wrFiles.length){var e,a=Object(s["a"])(t.wrFiles);try{for(a.s();!(e=a.n()).done;){var o=e.value;if(o.bf_type.startsWith("image"))return"/upload/".concat(this.table,"/").concat(o.bf_src,"?w=").concat(this.imgSize.w,"&h=").concat(this.imgSize.h)}}catch(r){a.e(r)}finally{a.f()}}var i=/<img[^>]*src=\"([^\"]+)\"[^>]*>/,n=t.wr_content.match(i);return n?n[1]:"/img/noimage.png"}})},$=j,k=Object(_["a"])($,o,i,!1,null,null,null);e["default"]=k.exports},d3f8:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("span",t._g(t._b({},"span",i,!1),o),[t._v(" "+t._s(t.display)+" ")])]}}])},[t._v(" "+t._s(t.formatTime)+" ")])},i=[],s={name:"DisplayTime",props:{time:{type:String,required:!0}},computed:{formatTime:function(){return this.$moment(this.time).format("LLL")},display:function(){var t=this.$moment(this.time),e=this.$moment(),a=e.diff(t,"days");return a>0?t.format("LL"):t.fromNow()}}},n=s,r=a("2877"),c=Object(r["a"])(n,o,i,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-557c22d5.163123ba.js.map