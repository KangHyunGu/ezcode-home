{"version":3,"sources":["webpack:///./src/views/board/skins/basic_copy/List.vue?0cfc","webpack:///src/views/board/skins/basic_copy/List.vue","webpack:///./src/views/board/skins/basic_copy/List.vue?8560","webpack:///./src/views/board/skins/basic_copy/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","pageTitle","attrs","table","headers","items","options","totalItems","loading","on","$event","scopedSlots","_u","key","fn","ref","item","staticClass","wr_dep","style","_e","wr_title","staticRenderFns","name","props","config","access","title","data","itemsPerPage","page","stf","stc","stx","computed","mapState","initData","text","value","align","sortable","searchable","width","watch","handler","deep","syncData","methods","mapMutations","getPayload","payload","fetchData","query","qs","list","setData","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,YAAY,CAACA,EAAG,kBAAkB,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,cAAcJ,EAAG,YAAYA,EAAG,QAAQ,CAACK,MAAM,CAAC,GAAM,UAAYT,EAAIU,MAAQ,aAAc,MAAQ,YAAY,CAACN,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACT,EAAIM,GAAG,gBAAgBN,EAAIM,GAAG,YAAY,IAAI,GAAGF,EAAG,eAAe,CAACK,MAAM,CAAC,QAAUT,EAAIW,QAAQ,MAAQX,EAAIY,MAAM,QAAUZ,EAAIa,QAAQ,sBAAsBb,EAAIc,WAAW,QAAUd,EAAIe,SAASC,GAAG,CAAC,iBAAiB,SAASC,GAAQjB,EAAIa,QAAQI,IAASC,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,gBAAgBC,GAAG,SAASC,GACjnB,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACnB,EAAG,QAAQ,CAACoB,YAAY,qBAAqBf,MAAM,CAAC,GAAM,UAAYT,EAAIU,MAAQ,IAAOa,EAAU,MAAG,MAAQ,GAAG,MAAQ,KAAK,CAAEA,EAAKE,OAAS,EAAGrB,EAAG,SAAS,CAACsB,MAAM,CAAE,eAAsC,IAAnBH,EAAKE,OAAS,GAAW,OAAS,CAACzB,EAAIM,GAAG,oCAAoCN,EAAI2B,KAAKvB,EAAG,MAAM,CAACJ,EAAIM,GAAGN,EAAIO,GAAGgB,EAAKK,cAAc,WAAW,IAC1UC,EAAkB,G,qGCuCP,GACfC,iBACAC,OACAC,cACAC,eAEAC,MANA,WAOA,uBAEAC,KATA,WAUA,OACApB,WACAH,SACAE,aACAD,SACAuB,gBACAC,OACAC,SACAC,SACAC,YAIAC,0CACAC,gBACAC,qBAAA,sBAFA,IAIAjC,MAJA,WAKA,6BAEAF,UAPA,WAQA,sCAEAG,QAVA,WAWA,OACA,CACAiC,UACAC,WACAC,cACAC,YACAC,cACAC,YAOA,CACAL,UACAC,iBACAC,cACAC,YACAC,eAEA,CACAJ,WACAC,gBACAC,eACAC,YACAC,eAEA,CACAJ,WACAC,oBACAC,eACAC,YACAC,eAEA,CACAJ,WACAC,gBACAC,eACAC,YACAC,gBAYA,OATA,6BACArC,cACAiC,YACAC,oBACAC,eACAC,YACAC,gBAGA,KAGAE,OACArC,SACAsC,QADA,WAEA,kBAEAC,UAGAC,SAjGA,WAmGA,yCACA,iCAEA,kBAGAC,yCACAC,kCADA,IAEAC,WAFA,WAGA,0CAgBA,OANAC,uBACAA,iBACAA,gBAIA,GAEAC,UArBA,WAqBA,2KACAD,EAAA,eAEAE,EAAAC,iBAEAjD,EAAA,GACA,gBACAA,6BAPA,SAUA,uCACA,QADA,YACAgD,GACA,CAAAhD,YAZA,OAUAwB,EAVA,OAeA,eAEA,gBAAA0B,SAEA,aAnBA,8CAqBAC,QA1CA,SA0CA3B,GACA,mBACA,iCC/L2X,I,YCOvX4B,EAAY,eACd,EACAhE,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAkC,E","file":"js/chunk-2d0c8598.b5cd51d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.pageTitle))]),_c('v-spacer'),_c('v-btn',{attrs:{\"to\":(\"/board/\" + _vm.table + \"?act=write\"),\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\" 새글 작성 \")],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"options\":_vm.options,\"server-items-length\":_vm.totalItems,\"loading\":_vm.loading},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.wr_title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"justify-start pl-0\",attrs:{\"to\":(\"/board/\" + _vm.table + \"/\" + (item.wr_id)),\"block\":\"\",\"plain\":\"\"}},[(item.wr_dep > 0)?_c('v-icon',{style:({'padding-left': (((item.wr_dep - 1) * 16) + \"px\")})},[_vm._v(\" mdi-subdirectory-arrow-right \")]):_vm._e(),_c('div',[_vm._v(_vm._s(item.wr_title))])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-toolbar>\n      <v-toolbar-title>{{ pageTitle }}</v-toolbar-title>\n      <v-spacer />\n      <v-btn :to=\"`/board/${table}?act=write`\" color=\"primary\">\n        <v-icon left>mdi-pencil</v-icon>\n        새글 작성\n      </v-btn>\n    </v-toolbar>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"items\"\n      :options.sync=\"options\"\n      :server-items-length=\"totalItems\"\n      :loading=\"loading\"\n    >\n      <template v-slot:item.wr_title=\"{ item }\">\n        <v-btn\n          :to=\"`/board/${table}/${item.wr_id}`\"\n          block\n          plain\n          class=\"justify-start pl-0\"\n        >\n\t\t\t\t\t<v-icon\n\t\t\t\t\t\tv-if=\"item.wr_dep > 0\"\n\t\t\t\t\t\t:style=\"{'padding-left': `${(item.wr_dep - 1) * 16}px`}\"\n\t\t\t\t\t>\n\t\t\t\t\tmdi-subdirectory-arrow-right\n\t\t\t\t\t</v-icon>\n          <div>{{ item.wr_title }}</div>\n        </v-btn>\n      </template>\n    </v-data-table>\n  </v-container>\n</template>\n\n<script>\nimport qs from \"qs\";\nimport { deepCopy } from \"../../../../../util/lib\";\nimport { mapMutations, mapState } from 'vuex';\nexport default {\n  name: \"BasicList\",\n  props: {\n    config: Object,\n    access: Object,\n  },\n  title() {\n    return this.pageTitle;\n  },\n  data() {\n    return {\n      loading: false,\n      items: [],\n      totalItems: 0,\n      options: {\n        itemsPerPage: 10,\n        page: 1,\n        stf: [\"\"],\n        stc: [\"\"],\n        stx: [\"\"],\n      },\n    };\n  },\n  computed: {\n\t\t...mapState({\n\t\t\tinitData : state => state.initData,\n\t\t}),\n    table() {\n      return this.config.bo_table;\n    },\n    pageTitle() {\n      return this.config.bo_subject + \" 게시판\";\n    },\n    headers() {\n      const headers = [\n        {\n          text: \"No\",\n          value: \"no\",\n          align: \"start\",\n          sortable: false,\n          searchable: false,\n\t\t\t\t\twidth : \"60\"\n        },\n\t\t\t\t// {text: \"ID\",value : 'wr_id'},\n\t\t\t\t// {text: \"GRP\",value : 'wr_grp'},\n\t\t\t\t// {text: \"ORD\",value : 'wr_order'},\n\t\t\t\t// {text: \"DEP\",value : 'wr_dep'},\n\t\t\t\t// {text: \"PR\",value : 'wr_parent'},\n        {\n          text: \"제목\",\n          value: \"wr_title\",\n          align: \"start\",\n          sortable: false,\n          searchable: true,\n        },\n        {\n          text: \"작성자\",\n          value: \"wr_name\",\n          align: \"center\",\n          sortable: false,\n          searchable: true,\n        },\n        {\n          text: \"작성일\",\n          value: \"wr_createat\",\n          align: \"center\",\n          sortable: false,\n          searchable: true,\n        },\n        {\n          text: \"조회수\",\n          value: \"wr_view\",\n          align: \"center\",\n          sortable: false,\n          searchable: true,\n        },\n      ];\n      if (this.config.bo_use_category) {\n        headers.splice(1, 0, {\n          text: \"Cate\",\n          value: \"wr_category\",\n          align: \"center\",\n          sortable: false,\n          searchable: false,\n        });\n      }\n      return headers;\n    },\n  },\n  watch: {\n    options: {\n      handler() {\n        this.fetchData();\n      },\n      deep: true,\n    },\n  },\n\tsyncData() {\n\t\t// console.log(\"LIST SYNC DATA CALL\");\n\t\tif(this.initData && this.initData.list) {\n\t\t\treturn this.setData(this.initData.list);\n\t\t} else {\n\t\t\treturn this.fetchData();\n\t\t}\n\t},\n  methods: {\n\t\t...mapMutations(['SET_INITDATA']),\n    getPayload() {\n      const payload = deepCopy(this.options);\n      // 정렬을 설정값에 있는 정렬로 하자\n\t\t\t// console.log(\"정렬\",  this.config);\n\t\t\t\n      // for (const sort of this.config.bo_sort) {\n      //   payload.sortBy.push(sort.by);\n      //   payload.sortDesc.push(sort.desc == 1);\n      // }\n\n      // 리플이 아닌 목록 검색\n      payload.stf.push(\"wr_reply\");\n      payload.stc.push(\"eq\");\n      payload.stx.push(\"0\");\n\n      // TODO : 카데고리 별로도 검색\n\n      return payload;\n    },\n    async fetchData() {\n      const payload = this.getPayload();\n\t\t\t// console.log(\"요청\", payload);\n      const query = qs.stringify(payload);\n\t\t\t\n\t\t\tconst headers = {};\n\t\t\tif(this.$ssrContext) {\n\t\t\t\theaders.token = this.$ssrContext.token;\n\t\t\t}\n\n      const data = await this.$axios.get(\n        `/api/board/list/${this.table}?${query}`,\n\t\t\t\t{ headers }\n      );\n\n\t\t\tif(this.$ssrContext) {\t\n\t\t\t\t// console.log(\"LIST \", data);\n\t\t\t\tthis.SET_INITDATA({list : data});\n\t\t\t}\n      this.setData(data);\n    },\n    setData(data) {\n      this.items = data.items;\n      this.totalItems = data.totalItems;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=e71bd850&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}