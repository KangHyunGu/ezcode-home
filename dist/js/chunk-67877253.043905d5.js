(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67877253","chunk-e46b8a8c","chunk-2d0c207f"],{4926:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.member?n("div",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-textarea",{attrs:{label:t.label,rules:[t.rules.require({label:t.label})],rows:"2","auto-grow":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.save.apply(null,arguments):null}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[t.item||t.wr_parent?n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("onClose")}}},[n("v-icon",[t._v(" mdi-close ")])],1):t._e(),n("v-btn",{attrs:{icon:""},on:{click:t.save}},[n("v-icon",[t._v("mdi-pencil")])],1)]},proxy:!0}],null,!1,652439077),model:{value:t.form.wr_content,callback:function(e){t.$set(t.form,"wr_content","string"===typeof e?e.trim():e)},expression:"form.wr_content"}})],1)],1):n("div",[t._v(" 로그인후 댓글을 작성 할 수 있습니다. "),n("v-btn",{attrs:{to:"/login?next="+t.$route.fullPath}},[t._v("로그인")])],1)},a=[],i=n("1da1"),o=n("5530"),s=(n("96cf"),n("a9e3"),n("99af"),n("2f62")),c=n("64f2"),l=n("248f"),u=n.n(l),m={name:"CommentForm",props:{table:{type:String,required:!0},wr_reply:{type:Number,required:!0},wr_parent:{type:Number,default:0},item:{type:Object,default:null}},data:function(){return{valid:!0,form:null}},created:function(){this.initForm()},computed:Object(o["a"])(Object(o["a"])({},Object(s["e"])({member:function(t){return t.user.member}})),{},{rules:function(){return u.a},label:function(){return this.item?"댓글 수정":0==this.wr_parent?"답글 달기":"댓글 작성"}}),methods:{initForm:function(){if(this.member)if(this.item)this.form=Object(c["deepCopy"])(this.item);else{var t={wr_reply:this.wr_reply,wr_parent:this.wr_parent,mb_id:this.member.mb_id,wr_email:this.member.mb_email,wr_name:this.member.mb_name,wr_content:""};this.form=t}},save:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:if(!t.item){e.next=11;break}return e.next=8,t.$axios.put("/api/board/write/".concat(t.table,"/").concat(t.item.wr_id),t.form);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,t.$axios.post("/api/board/write/".concat(t.table),t.form);case 13:n=e.sent;case 14:n&&(t.$emit("onUpdate",n),t.initForm(),t.$refs.form.resetValidation(),t.$emit("onClose"));case 15:case"end":return e.stop()}}),e)})))()}}},d=m,b=n("2877"),f=Object(b["a"])(d,r,a,!1,null,null,null);e["default"]=f.exports},5105:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",[n("comment-form",{attrs:{wr_reply:t.id,table:t.table,wr_parent:0},on:{onUpdate:t.updateItem}}),n("v-list",t._l(t.items,(function(e,r){return n("comment-item",{key:e.wr_id,attrs:{item:e,idx:r,table:t.table,access:t.access},on:{onInComment:t.inComment,onUpdate:t.updateItem}})})),1)],1)},a=[],i=n("1da1"),o=(n("96cf"),n("a9e3"),n("7db0"),n("d3b7"),n("a434"),n("4926")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-divider"),n("v-list-item",[n("div",[t.item.wr_dep>0?n("v-icon",{style:{"padding-ledt":32*(t.item.wr_dep-1)+8+"px"}},[t._v(" mdi-subdirectory-arrow-right ")]):t._e()],1),n("v-list-item-content",[n("v-subheader",[n("v-avatar",{attrs:{size:"28",color:"primary"}},[t._v(t._s(t.item.wr_name[0]))]),n("div",[t._v(" "+t._s(t.item.wr_name)+" "),n("i",[t._v(t._s(t.item.wr_email))])]),n("v-spacer"),n("v-icon",{attrs:{small:""}},[t._v("mdi-clock-outline")]),n("display-time",{attrs:{time:t.item.wr_createat}})],1),t.isModify?n("comment-form",{attrs:{item:t.item,table:t.table,wr_reply:t.item.wr_reply,wr_parent:t.item.wr_parent},on:{onClose:function(e){t.isModify=!1},onUpdate:t.modifyComment}}):n("div",{staticClass:"text-pre"},[t._v(t._s(t.item.wr_content))]),n("div",{staticClass:"d-flex"},[t.access.comment&&t.member?n("board-button",{attrs:{label:"답글쓰기",icon:"mdi-pencil-outline",plain:""},on:{click:function(e){t.isComment=!t.isComment}}}):t._e(),n("v-spacer"),t.modifyGrant?n("board-button",{attrs:{label:"수정",icon:"mdi-pencil-outline",plain:""},on:{click:function(e){t.isModify=!t.isModify}}}):t._e(),t.modifyGrant?n("board-button",{attrs:{label:"삭제",icon:"mdi-delete-outline",plain:"",color:"red"}}):t._e()],1),t.isComment?n("comment-form",{attrs:{wr_parent:t.item.wr_id,wr_reply:t.item.wr_reply,table:t.table},on:{onClose:function(e){t.isComment=!1},onUpdate:t.inComment}}):t._e()],1)],1)],1)},c=[],l=n("5530"),u=n("2f62"),m=n("caa8"),d=n("66c1"),b=n("bb5e"),f={name:"CommentItem",components:{DisplayTime:m["a"],BoardButton:d["a"],CommentForm:o["default"]},props:{item:{type:Object,required:!0},table:{type:String,required:!0},idx:{type:Number,required:!0},access:{type:Object,required:!0}},data:function(){return{isComment:!1,isModify:!1}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(u["e"])("user",["member"])),Object(u["c"])("user",["GRANT"])),{},{modifyGrant:function(){return!(!this.member||!(this.member.mb_id==this.item.mb_id||this.GRANT>=b["LV"].SUPER))}}),mounted:function(){console.log("ITem mounted",this.member,this.isModify)},methods:{inComment:function(t){this.$emit("onInComment",this.item,t)},modifyComment:function(t){this.$emit("onUpdate",t)}}},p=f,v=n("2877"),_=Object(v["a"])(p,s,c,!1,null,null,null),h=_.exports,w={components:{CommentForm:o["default"],CommentItem:h},name:"CommentList",props:{table:{type:String,required:!0},id:{type:Number,require:!0},access:{type:Object,required:!0}},data:function(){return{items:[],loading:!1,totalItems:0,options:{itemsPerPage:5,page:1,sortBy:["wr_grp","wr_order"],sortDesc:[!1,!0],stf:["wr_reply"],stc:["eq"],stx:[this.id]},item:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/board/list/".concat(t.table),{params:t.options});case 3:n=e.sent,n&&t.setData(n),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},setData:function(t){this.items=t.items,this.totalItems=t.totalItems},updateItem:function(t){var e=this.items.find((function(e){return e.wr_id==t.wr_id}));if(e){var n=this.items.indexOf(e);this.items.splice(n,1,t)}else this.items.unshift(t),this.totalItems++},inComment:function(t,e){console.log("onInComment : ",t,e);var n=this.items.find((function(e){return e.wr_id==t.wr_id}));if(n){var r=this.items.indexOf(n);this.items.splice(r+1,0,e),this.totalItems++}}}},g=w,y=Object(v["a"])(g,r,a,!1,null,null,null);e["default"]=y.exports},"66c1":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",t._b({attrs:{small:t.breakPointXS},on:{click:function(e){return t.$emit("click")}}},"v-btn",t.$attrs,!1),[n("v-icon",{attrs:{left:!t.breakPointXS}},[t._v(t._s(t.icon))]),t.breakPointXS?t._e():n("div",[t._v(t._s(t.label))])],1)},a=[],i={name:"boardButton",props:{label:{type:String,default:""},icon:{type:String,default:""}},computed:{breakPointXS:function(){return this.$vuetify.breakpoint.xs}}},o=i,s=n("2877"),c=Object(s["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports},7714:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isClient?n("div",[t._t("default")],2):n("div",{staticClass:"d-none"},[t._t("server")],2)},a=[],i={name:"SsrRenderer",data:function(){return{isClient:!1}},mounted:function(){this.isClient=!0}},o=i,s=n("2877"),c=Object(s["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports},a2e4:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",t._b({model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},"v-dialog",t.$attrs,!1),[n("v-card",[n("v-toolbar",t._b({},"v-toolbar",t.$attrs,!1),[n("v-toolbar-title",[t._v(t._s(t.label))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:t.close}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",[t._t("default")],2)],1)],1)},a=[],i={name:"ezDialog",props:{label:{type:String,required:!0}},data:function(){return{dialog:!1}},methods:{open:function(){this.$emit("onOpen"),this.dialog=!0},close:function(){this.dialog=!1,this.$emit("onClose")}}},o=i,s=n("2877"),c=Object(s["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports},a9a4:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[t.item?n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[t._v(t._s(t.item.wr_title))]),n("v-spacer"),n("v-subheader",{staticClass:"text-no-wrap"},[n("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-account")]),t._v(" "+t._s(t.item.wr_name)+" "),n("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-clock-outline")]),n("i",[n("display-time",{attrs:{time:t.item.wr_createat}})],1),n("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-eye")]),t._v(" "+t._s(t.item.wr_view)+" ")],1)],1)],1),n("v-card-text",[n("ssr-renderer",{scopedSlots:t._u([{key:"server",fn:function(){return[n("div",{domProps:{innerHTML:t._s(t.item.wr_content)}})]},proxy:!0}],null,!1,3945286292)},[[n("ez-tiptap",{attrs:{editable:!1},model:{value:t.item.wr_content,callback:function(e){t.$set(t.item,"wr_content",e)},expression:"item.wr_content"}})]],2)],1),n("v-card-text",[n("tag-view",{attrs:{tags:t.item.wrTags}})],1),n("v-card-text",[n("display-good",{staticClass:"d-flex justify-center",attrs:{table:t.table,item:t.item,btnProps:{tile:!0,small:!0},icon:{good:"mdi-thumb-up",bad:"mdi-thumb-down"}}})],1),n("v-card-text",[n("file-download",{attrs:{table:t.table,item:t.item,access:t.access}})],1),n("v-card-actions",[n("v-col",{staticClass:"text-no-wrap",attrs:{cols:"4"}},["MODIFY"==t.isModify?n("board-button",{attrs:{color:"info",to:"/board/"+t.table+"/"+t.item.wr_id+"?act=write",label:"수정",icon:"mdi-pencil"}}):t._e(),"NO_MEMBER"==t.isModify?n("modify-button",{attrs:{color:"info",table:t.table,wr_id:t.item.wr_id,label:"수정"},on:{onValid:t.modifyItem}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v(" 수정 ")],1):t._e(),"MODIFY"==t.isModify?n("board-button",{staticClass:"ml-2",attrs:{color:"error",label:"삭제",icon:"mdi-delete",loading:t.delelteLoading},on:{click:t.deleteItem}}):t._e()],1),n("v-col",{staticClass:"text-center text-no-wrap",attrs:{cols:"4"}},[n("board-button",{attrs:{to:"/board/"+t.table,color:"accent",label:"목록",icon:"mdi-menu"}})],1),n("v-col",{staticClass:"text-right text-no-wrap",attrs:{cols:"4"}},[t.access.reply?n("board-button",{attrs:{color:"secondary",to:"/board/"+t.table+"/"+t.item.wr_id+"?act=reply",label:"답글쓰기",icon:"mdi-subdirectory-arrow-right"}}):t._e(),t.access.write?n("board-button",{staticClass:"ml-2",attrs:{color:"primary",to:"/board/"+t.table+"?act=write",label:"글쓰기",icon:"mdi-pencil"}}):t._e()],1)],1),n("comment-list",{attrs:{id:t.item.wr_id,table:t.table,access:t.access}})],1):t._e()],1)},a=[],i=n("1da1"),o=n("5530"),s=(n("96cf"),n("a9e3"),n("99af"),n("2f62")),c=n("bb5e"),l=n("7714"),u=n("caa8"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chip-group",t._l(t.tags,(function(e){return n("v-chip",{key:e,attrs:{label:""}},[t._v(" "+t._s(e)+" ")])})),1)},d=[],b={name:"TagView",props:{tags:{type:Array,default:[]}}},f=b,p=n("2877"),v=Object(p["a"])(f,m,d,!1,null,null,null),_=v.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.wrFiles,(function(e){return n("v-btn",{key:e.bf_id,staticClass:"mt-1 text-none",attrs:{block:"",disabled:!t.access.download,href:"/api/board/download/"+t.table+"/"+e.bf_name+"?src="+e.bf_src,target:"_blank"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v(" "+t._s(e.bf_name)+" "),n("v-spacer"),t._v(" "+t._s(t.filesize(e.bf_size))+" ")],1)})),1)},w=[],g=n("64f2"),y={name:"FileDownload",props:["table","item","access"],computed:{wrFiles:function(){return this.item.wrFiles||[]},filesize:function(){return g["filesize"]}}},x=y,k=Object(p["a"])(x,h,w,!1,null,null,null),O=k.exports,C=n("66c1"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({},"div",t.$attrs,!1),[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:t.goodColor},on:{click:function(e){return t.goodUpdate(1)}}},"v-btn",Object.assign({},a,t.btnProps),!1),r),[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.good))]),t._v(" "+t._s(t.good)+" ")],1)]}}])},[n("span",[t._v("좋아요")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:t.badColor},on:{click:function(e){return t.goodUpdate(2)}}},"v-btn",Object.assign({},a,t.btnProps),!1),r),[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.bad))]),t._v(" "+t._s(t.bad)+" ")],1)]}}])},[n("span",[t._v("싫어요")])])],1)},j=[],D={name:"DisplayGood",props:{item:{type:Object,required:!0},table:{type:String,required:!0},btnProps:{type:Object,default:null},icon:{type:Object,default:{good:"mdi-heart-outline",bad:"mdi-heart-broken-outline"}}},data:function(){return{goodFlag:this.item.goodFlag,good:this.item.good,bad:this.item.bad}},computed:Object(o["a"])(Object(o["a"])({},Object(s["e"])("user",["member"])),{},{goodColor:function(){return 1==this.goodFlag?"primary":""},badColor:function(){return 2==this.goodFlag?"error":""}}),methods:{goodUpdate:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.member){n.next=3;break}return e.$toast.error("회원만 사용할 수 있습니다."),n.abrupt("return");case 3:if(t!=e.goodFlag){n.next=9;break}return n.next=6,e.$axios.delete("/api/good/".concat(e.table,"/").concat(e.item.wr_id));case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,e.$axios.post("/api/good/".concat(e.table,"/").concat(e.item.wr_id),{bg_flag:t});case 11:r=n.sent;case 12:r&&(e.goodFlag=r.goodFlag,e.good=r.good,e.bad=r.bad);case 13:case"end":return n.stop()}}),n)})))()}}},R=D,S=Object(p["a"])(R,$,j,!1,null,null,null),E=S.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-btn",t._b({attrs:{loading:t.loading},on:{click:t.openDialog}},"v-btn",t.$attrs,!1),[t._t("default")],2),n("ez-dialog",{ref:"dialog",attrs:{label:"게시물 "+t.label,width:"300",persistent:""},on:{onClose:t.closeDialog}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.checkPass.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("input-password",{staticClass:"mt-4",attrs:{label:"비밀번호",rules:t.rules.password(),"prepend-icon":"mdi-key"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-btn",{staticClass:"mt-2",attrs:{type:"submit",block:"",color:"primary"}},[t._v("비밀번호 확인")])],1)],1)],1)},I=[],M=n("a2e4"),T=n("445e"),q=n("248f"),P=n.n(q),L={components:{EzDialog:M["a"],InputPassword:T["a"]},name:"ModifyButton",inheritAttrs:!1,props:{table:{type:String,required:!0},wr_id:{type:Number,required:!0},label:{type:String,required:!0}},data:function(){return{loading:!1,password:"",valid:!0}},computed:{rules:function(){return P.a}},methods:{openDialog:function(){this.loading=!0,this.$refs.dialog.open()},closeDialog:function(){this.loading=!1},checkPass:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.$axios.post("/api/board/check/".concat(t.table,"/").concat(t.wr_id),{password:t.password});case 7:n=e.sent,n&&(t.$emit("onValid",n.token),t.$refs.dialog.close());case 9:case"end":return e.stop()}}),e)})))()}}},N=L,B=Object(p["a"])(N,F,I,!1,null,null,null),z=B.exports,U=n("5105"),G={components:{SsrRenderer:l["a"],DisplayTime:u["a"],TagView:_,FileDownload:O,BoardButton:C["a"],DisplayGood:E,ModifyButton:z,CommentList:U["default"]},name:"BasicRead",props:{config:Object,access:Object,id:[String,Number]},data:function(){return{delelteLoading:!1}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["e"])({member:function(t){return t.user.member},item:function(t){return t.board.read}})),Object(s["c"])("user",["GRANT"])),{},{table:function(){return this.config.bo_table},isModify:function(){if(this.member){if(this.member.mb_id==this.item.mb_id||this.GRANT>=c["LV"].SUPER)return"MODIFY"}else if(0==this.item.mb_id)return"NO_MEMBER";return""}}),watch:{id:function(){this.fetchData()}},serverPrefetch:function(){return this.fetchData()},mounted:function(){this.item||this.fetchData(),console.log(this.$vuetify)},destroyed:function(){this.SET_READ(null)},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["d"])("board",["SET_READ"])),Object(s["b"])("board",["getBoardRead"])),{},{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("FETCH",t.id),n={},t.$ssrContext&&(n.token=t.$ssrContext.token),e.next=5,t.getBoardRead({table:t.table,id:t.id,headers:n});case 5:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.delelteLoading=!0,n.next=3,e.$ezNotify.confirm("게시물을 삭제 하시겠습니까?","게시물 삭제",{icon:"mdi-alert"});case 3:if(r=n.sent,!r){n.next=8;break}return n.next=7,e.$axios.delete("/api/board/".concat(e.table,"/").concat(e.item.wr_id,"?token=").concat(t));case 7:n.sent;case 8:e.delelteLoading=!1;case 9:case"end":return n.stop()}}),n)})))()},modifyItem:function(t){console.log("token : ",t),this.$router.push("/board/".concat(this.table,"/").concat(this.item.wr_id,"?act=write&token=").concat(t))}})},A=G,V=Object(p["a"])(A,r,a,!1,null,null,null);e["default"]=V.exports},caa8:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("span",t._g(t._b({},"span",a,!1),r),[t._v(" "+t._s(t.display)+" ")])]}}])},[t._v(" "+t._s(t.formatTime)+" ")])},a=[],i={name:"DisplayTime",props:{time:{type:String,required:!0}},computed:{formatTime:function(){return this.$moment(this.time).format("LLL")},display:function(){var t=this.$moment(this.time),e=this.$moment(),n=e.diff(t,"days");return n>0?t.format("LL"):t.fromNow()}}},o=i,s=n("2877"),c=Object(s["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-67877253.043905d5.js.map