{"version":3,"sources":["webpack:///./src/views/board/skins/basic-bak-20220410/List.vue?e367","webpack:///src/views/board/skins/basic-bak-20220410/List.vue","webpack:///./src/views/board/skins/basic-bak-20220410/List.vue?b216","webpack:///./src/views/board/skins/basic-bak-20220410/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","pageTitle","attrs","table","headers","items","options","totalItems","loading","on","$event","scopedSlots","_u","key","fn","ref","item","staticClass","wr_dep","style","_e","wr_title","staticRenderFns","name","props","config","access","title","data","itemsPerPage","page","stf","stc","stx","computed","mapState","initData","bo_table","bo_subject","text","value","align","sortable","searchable","width","bo_use_category","watch","handler","fetchData","deep","syncData","console","list","setData","methods","mapMutations","getPayload","payload","query","qs","component"],"mappings":"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","file":"js/chunk-2d0de2db.dabc9cfa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.pageTitle))]),_c('v-spacer'),_c('v-btn',{attrs:{\"to\":(\"/board/\" + _vm.table + \"?act=write\"),\"color\":\"primary\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\" 새글 작성 \")],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"options\":_vm.options,\"server-items-length\":_vm.totalItems,\"loading\":_vm.loading},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.wr_title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"justify-start pl-0\",attrs:{\"to\":(\"/board/\" + _vm.table + \"/\" + (item.wr_id)),\"block\":\"\",\"plain\":\"\"}},[(item.wr_dep > 0)?_c('v-icon',{style:({ 'padding-left': (((item.wr_dep - 1) * 16) + \"px\") })},[_vm._v(\" mdi-subdirectory-arrow-right \")]):_vm._e(),_c('div',[_vm._v(_vm._s(item.wr_title))])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-toolbar>\r\n      <v-toolbar-title>{{ pageTitle }}</v-toolbar-title>\r\n      <v-spacer />\r\n      <v-btn :to=\"`/board/${table}?act=write`\" color=\"primary\">\r\n        <v-icon left>mdi-pencil</v-icon>\r\n        새글 작성\r\n      </v-btn>\r\n    </v-toolbar>\r\n    <!-- v-date-table -->\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"items\"\r\n      :options.sync=\"options\"\r\n      :server-items-length=\"totalItems\"\r\n      :loading=\"loading\"\r\n    >\r\n      <template v-slot:item.wr_title=\"{ item }\">\r\n        <v-btn\r\n          :to=\"`/board/${table}/${item.wr_id}`\"\r\n          block\r\n          plain\r\n          class=\"justify-start pl-0\"\r\n        >\r\n          <v-icon\r\n            v-if=\"item.wr_dep > 0\"\r\n            :style=\"{ 'padding-left': `${(item.wr_dep - 1) * 16}px` }\"\r\n          >\r\n            mdi-subdirectory-arrow-right\r\n          </v-icon>\r\n          <div>{{ item.wr_title }}</div>\r\n        </v-btn>\r\n      </template>\r\n    </v-data-table>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport { deepCopy } from \"../../../../../util/lib\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  name: \"BasicList\",\r\n  props: {\r\n    config: Object,\r\n    access: Object,\r\n  },\r\n  title() {\r\n    return this.pageTitle;\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      items: [],\r\n      totalItems: 0,\r\n      options: {\r\n        itemsPerPage: 10,\r\n        page: 1,\r\n        stf: [\"\"],\r\n        stc: [\"\"],\r\n        stx: [\"\"],\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      initData: (state) => state.initData,\r\n    }),\r\n    table() {\r\n      return this.config.bo_table;\r\n    },\r\n    pageTitle() {\r\n      return this.config.bo_subject + \" 게시판\";\r\n    },\r\n    headers() {\r\n      const headers = [\r\n        {\r\n          text: \"No\",\r\n          value: \"no\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          searchable: false,\r\n          width: 60,\r\n        },\r\n        // { text: \"GRP\", value: \"wr_grp\" },\r\n        // { text: \"ORD\", value: \"wr_order\" },\r\n        // { text: \"DRP\", value: \"wr_dep\" },\r\n        // { text: \"RP\", value: \"wr_parent\" },\r\n        {\r\n          text: \"제목\",\r\n          value: \"wr_title\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          searchable: true,\r\n        },\r\n        {\r\n          text: \"작성자\",\r\n          value: \"wr_name\",\r\n          align: \"center\",\r\n          sortable: false,\r\n          searchable: true,\r\n        },\r\n        {\r\n          text: \"작성일\",\r\n          value: \"wr_createat\",\r\n          align: \"center\",\r\n          sortable: false,\r\n          searchable: true,\r\n        },\r\n        {\r\n          text: \"조회수\",\r\n          value: \"wr_view\",\r\n          align: \"center\",\r\n          sortable: false,\r\n          searchable: true,\r\n        },\r\n      ];\r\n      if (this.config.bo_use_category) {\r\n        headers.splice(1, 0, {\r\n          text: \"Cate\",\r\n          value: \"wr_category\",\r\n          align: \"center\",\r\n          sortable: false,\r\n          searchable: false,\r\n        });\r\n      }\r\n      return headers;\r\n    },\r\n  },\r\n  watch: {\r\n    options: {\r\n      handler() {\r\n        this.fetchData();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  syncData() {\r\n    console.log(\"LIST SYNC DATA\");\r\n    if (this.initData && this.initData.list) {\r\n      return this.setData(this.initData.list);\r\n    } else {\r\n      return this.fetchData();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"SET_INITDATA\"]),\r\n    getPayload() {\r\n      const payload = deepCopy(this.options);\r\n      //console.log(this.options);\r\n      // 정렬을 설정값에 있는 정렬로 처리(현재 sortDesc가 잘못되어 있어 강제로 초기화)\r\n      // payload.sortBy = [];\r\n      // payload.sortDesc = [];\r\n      // for (const sort of this.config.bo_sort) {\r\n      //   payload.sortBy.push(sort.by);\r\n      //   payload.sortDesc.push(sort.desc == 1);\r\n      // }\r\n\r\n      console.log(\"payload:\", payload);\r\n      // 리플이 아닌 목록\r\n      payload.stf.push(\"wr_reply\");\r\n      payload.stc.push(\"eq\");\r\n      payload.stx.push(\"0\");\r\n\r\n      // TODO : 카테고리 별로도 검색\r\n\r\n      return payload;\r\n    },\r\n    async fetchData() {\r\n      const payload = this.getPayload();\r\n      const query = qs.stringify(payload);\r\n\r\n      // SSR로 구동시 인증이 필요 할 경우\r\n      const headers = {};\r\n      if (this.$ssrContext) {\r\n        headers.token = this.$ssrContext.token;\r\n      }\r\n\r\n      const data = await this.$axios.get(\r\n        `/api/board/list/${this.table}?${query}`,\r\n        { headers }\r\n      );\r\n      if (this.$ssrContext) {\r\n        this.SET_INITDATA({ list: data });\r\n      }\r\n      this.setData(data);\r\n    },\r\n    setData(data) {\r\n      this.items = data.items;\r\n      this.totalItems = data.totalItems;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=57da02af&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}